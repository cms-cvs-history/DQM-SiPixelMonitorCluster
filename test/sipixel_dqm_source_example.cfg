process SiPixelMonitorClusterProcess = {

untracked PSet maxEvents = {untracked int32 input = -1}

   	source = PoolSource {
        # From CASTOR
	untracked vstring fileNames = 
	#{'rfio:/castor/cern.ch/user/c/chiochia/cmssw/digis_6muons_150pre2.root'}
	#{'rfio:/castor/cern.ch/user/c/chiochia/cmssw/Muon_FullValidation_150pre3.root'}
	{"file:/afs/cern.ch/user/a/andrewdc/public/digis.root"}
	# Local file
	#untracked vstring fileNames = {'file:digis.root'}
        untracked uint32 debugVebosity = 10
        untracked bool   debugFlag     = true
    	}

	# Tracker SimGeometryXML
  	include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

  	# Tracker Geometry Builder
  	include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  	# Tracker Numbering Builder
  	include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

	# Pixel Clusterizer
        include "CalibTracker/SiPixelESProducers/data/SiPixelFakeGainOfflineESSource.cfi"  	
        ##include "CondTools/SiPixel/data/SiPixelCalibConfiguration.cfi"
        include "CondTools/SiPixel/data/SiPixelGainCalibrationService.cfi"
	include "RecoLocalTracker/SiPixelClusterizer/data/SiPixelClusterizer.cfi"

	# Pixel Cluster Monitoring
	include "DQM/SiPixelMonitorCluster/data/SiPixelMonitorCluster.cfi"
        #replace SiPixelClusterSource.saveFile = true
	#replace SiPixelClusterSource.modOn = true
	#replace SiPixelClusterSource.ladOn = true
	#replace SiPixelClusterSource.layOn = true
	#replace SiPixelClusterSource.phiOn = true
	#replace SiPixelClusterSource.bladeOn = true	
	#replace SiPixelClusterSource.diskOn = true
        #replace SiPixelClusterSource.ringOn = true
  
        # DQM services
        include "DQMServices/Core/data/DQM.cfg"
	replace DQM.collectorHost = ""
	
        service = LockService{ untracked vstring labels = {"source"} }	

        path p1 = {siPixelClusters, SiPixelClusterSource}
}
